# python_tg_parser

Скрипт с определенной частотой копирует картинки из целевого телеграм-канала в основной. Если пост не содержит картинку, является репостом или галереей, скрипт пропускает его. Скрипт запоминает номер последнего поста, из которого он скопировал картинку, в отдельный json-файл. Для связи с telegram используется pyrogram.

## Как это работает
### Настройка
В первую очередь, в переменную *app* необходимо добавить ваши *api_id*, *api_hash* и номер телефона. 

Затем в *main_chanel* указываем id нашего канала, куда мы будем постить картинки, а в *target_chanel* указываем id канала, откуда будем копировать. 

В функции *send_message* в строке *await asyncio.sleep(3624)* в скобках указываем частоту постинга картинок в секундах.

### Запуск на виртуальной машине
Запускаем *script.py*. Радуемся жизни.

### Запуск на хостинге
Создаем в Cron задачу вида:
```
* * * * * cd ~ && ./ ./script_cron.py
```

## Возможные проблемы
- Не прописаны эксепты. Мамой клянусь, ничего не должно сломаться. (будет исправлено когда будет свободное время)
- В целевом канале могут закончиться посты, и тогда скрипт будет бесконечно перебирать id в надежде когда-нибудь встретить картинку. Просто не воруйте столько картинок ¯\_(ツ)_/¯
